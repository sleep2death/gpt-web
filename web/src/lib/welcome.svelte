<script>
  import { mode, send, input, darkmode } from "./store.js";
  import Toggle from "./toggle.svelte";

  const labels = [
    { id: "creative", label: "åˆ›æ„" },
    { id: "balanced", label: "å¹³è¡¡" },
    { id: "accurate", label: "ç²¾ç¡®" },
  ];

  function sendExample(evt) {
    $input = evt.currentTarget.innerHTML;
    send();
  }
</script>

<div class="w-full grid grid-cols-1 md:grid-cols-3 gap-2">
  <div class="md:col-start-2 flex justify-center my-4 relative">
    <div
      class="dark:bg-stone-800 dark:text-neutral-300 bg-white px-4 py-2 rounded-2xl text-xl text-neutral-800"
    >
      <h1 class="inline-block">æ¬¢è¿ä½¿ç”¨GPT-GIN</h1>
      <span class="text-xs inline-block align-top rounded px-0.5">beta</span>
    </div>
  </div>
  <div class="md:col-start-3 md:justify-end my-4 flex flex-row justify-end">
    <div
      class="flex flex-row bg-lime-100 dark:bg-stone-800 dark:text-stone-300 rounded-2xl px-2 py-1 items-center"
    >
      <div class="text-xs items-center">å¤œé—´æ¨¡å¼</div>
      <Toggle bind:value={$darkmode} />
    </div>
  </div>
  <div
    class="md:col-start-1 bg-lime-100 dark:bg-stone-800 dark:text-stone-300 rounded-2xl flex flex-col space-y-2 py-4"
  >
    <div class="text-center">ğŸ§ å¤æ‚é—®é¢˜</div>
    <button class="text-center link" on:click={sendExample}
      >è¯·è§£é‡Šçˆ±å› æ–¯å¦çš„ç‹­ä¹‰ç›¸å¯¹è®º</button
    >
  </div>
  <div
    class="bg-lime-100 dark:bg-stone-800 dark:text-stone-300 rounded-2xl flex flex-col space-y-2 py-4"
  >
    <div class="text-center">ğŸ¤– ç¼–å†™ä»£ç </div>
    <button class="text-center link" on:click={sendExample}
      >å¦‚ä½•ç”¨rustè¯­è¨€å¤„ç†httpè¯·æ±‚ï¼Ÿ</button
    >
  </div>
  <div
    class="bg-lime-100 dark:bg-stone-800 dark:text-stone-300 rounded-2xl flex flex-col space-y-2 py-4"
  >
    <div class="text-center">ğŸ“– ç¿»è¯‘å¤–è¯­</div>
    <button class="text-center link" on:click={sendExample}
      >ç¿»è¯‘ä¸­æ–‡ï¼šLe passÃ© câ€™est le passÃ©</button
    >
  </div>
  <div
    class="md:col-start-2 flex flex-col justify-center rounded-2xl bg-lime-100 dark:bg-stone-800 dark:text-stone-300 "
  >
    <h2 class="text-center p-2 rounded-t-2xl">å¯¹è¯é£æ ¼</h2>
    <div
      class="relative border-t border-lime-300 dark:border-stone-600 flex flex-row justify-center p-2 rounded-b-2xl space-x-2"
    >
      {#each labels as label}
        <button
          class="px-4 py-2 relative flex"
          on:click={() => ($mode = label.id)}
        >
          <div class="z-20 {$mode === label.id ? 'text-white' : ''}">
            {label.label}
          </div>
          {#if $mode === label.id}
            <div
              class="absolute bg-blue-500 w-full h-full top-0 left-0 rounded-xl z-10"
            />
          {/if}
        </button>
      {/each}
    </div>
  </div>
</div>

<style>
  .link {
    @apply text-blue-500;
  }
</style>
